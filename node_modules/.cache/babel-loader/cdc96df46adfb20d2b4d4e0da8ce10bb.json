{"ast":null,"code":"var _jsxFileName = \"/Users/jubi/fullStack/pro1/profile/src/page/blog/blog.js\";\nimport React, { Component } from \"react\";\nimport Auth from './auth'; //import { Link, withRouter } from \"react-router-dom\";\n\nimport './blog.scss';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSearch, faAngleLeft, faAngleRight } from '@fortawesome/fontawesome-free-solid';\nimport { faProductHunt } from '@fortawesome/fontawesome-free-brands';\nexport default class Blog extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      page: 1,\n      size: 4,\n      articles: [],\n      // currentPage:1,\n      totalPage: 1,\n      searchTitle: '' // authShow:false\n\n    };\n  }\n\n  async componentDidMount() {\n    const apiUrl = 'https://profile-article-api.herokuapp.com';\n    const link = `${apiUrl}/article/${this.state.page}/${this.state.size}`; // console.log(link)\n\n    const res = fetch(link, {\n      method: 'get'\n    });\n    res.then(res => res.json()).then(data => {\n      this.setState({\n        articles: data\n      });\n    });\n    const link2 = `${apiUrl}/article`;\n    const res2 = fetch(link2, {\n      method: 'get'\n    });\n    res2.then(res2 => res2.json()).then(data => {\n      this.setState({\n        totalPage: Math.ceil(data / this.state.size)\n      });\n      console.log(this.state.totalPage);\n    });\n  }\n\n  PrevPage() {\n    if (this.state.page === 1) return;\n    this.state.page--;\n    const apiUrl = 'https://profile-article-api.herokuapp.com';\n    const link = `${apiUrl}/article/${this.state.page}/${this.state.size}`; // console.log(link)\n\n    const res = fetch(link, {\n      method: 'get'\n    });\n    res.then(res => res.json()).then(data => {\n      this.setState({\n        articles: data\n      });\n    });\n    this.forceUpdate(); // console.log(this.state.currentPage)\n  }\n\n  NextPage() {\n    if (this.state.page === this.state.totalPage) return;\n    this.state.page++;\n    const apiUrl = 'https://profile-article-api.herokuapp.com';\n    const link = `${apiUrl}/article/${this.state.page}/${this.state.size}`; // console.log(link)\n\n    const res = fetch(link, {\n      method: 'get'\n    });\n    res.then(res => res.json()).then(data => {\n      this.setState({\n        articles: data\n      });\n    });\n    this.forceUpdate(); // console.log(this.state.currentPage)\n  }\n\n  searchArticle(e) {\n    this.setState({\n      searchTitle: e.target.value\n    });\n    console.log(this.state.searchTitle);\n  }\n\n  handleAuth() {\n    this.setState({\n      authShow: true\n    });\n  }\n\n  returnSearchResult(e) {\n    if (e.charCode === 13) {\n      const apiUrl = 'https://profile-article-api.herokuapp.com';\n\n      if (this.state.searchTitle != '') {\n        const link = `${apiUrl}/search/article/${this.state.searchTitle}`;\n        const res = fetch(link, {\n          method: 'get'\n        });\n        res.then(res => res.json()).then(data => {\n          this.setState({\n            articles: data\n          });\n        });\n        this.forceUpdate();\n      } else {\n        const link = `${apiUrl}/article/${this.state.page}/${this.state.size}`; // console.log(link)\n\n        const res = fetch(link, {\n          method: 'get'\n        });\n        res.then(res => res.json()).then(data => {\n          this.setState({\n            articles: data\n          });\n        });\n      }\n    }\n  }\n\n  render() {\n    // console.log(this.state.articles)\n    const img = [\"https://www.edwardhopper.net/images/paintings/rooms-by-the-sea.jpg\", 'https://www.edwardhopper.net/images/paintings/nighthawks.jpg', 'https://pic.allhistory.com/T1plhyBXdT1RCvBVdK.jpg?w=2048&h=1080', 'https://pic.allhistory.com/T1G6YvBXVT1RCvBVdK.jpg?w=2048&h=708'];\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pf__blog\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"pf__blog--fp\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }, \"` Blog \", /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      style: {\n        fontSize: '40px',\n        color: '#02C9B1'\n      },\n      icon: faProductHunt,\n      onClick: this.handleAuth.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 28\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pf__blog--fp-search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.searchArticle.bind(this),\n      onKeyPress: this.returnSearchResult.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faSearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"pf__blog--sp\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 13\n      }\n    }, this.state.articles.length > 0 ? this.state.articles.map((item, index) => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pf__blog--sp--article\",\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 22\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pf__blog--sp--article-bg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pf__blog--sp--article-bg-date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 76\n      }\n    }, item.post_date.split(' ')[0].split('-')[2]), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 129\n      }\n    }, new Date(item.post_date).toDateString().split(' ')[1])), /*#__PURE__*/React.createElement(\"a\", {\n      onClick: () => {\n        this.props.history.push(`/article/${item._id}`);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: `${img[index]}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mask\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 33\n      }\n    }, \"\\uD83D\\uDCC4\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pf__blog--sp--article-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 29\n      }\n    }, item.category), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 29\n      }\n    }, item.title)))) : ''), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"pf__blog--tp\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faAngleLeft,\n      style: {\n        cursor: 'default'\n      },\n      onClick: this.PrevPage.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pf__blog--tp-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 113\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 148\n      }\n    }, \"Page\", this.state.page)), \" \", /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faAngleRight,\n      onClick: this.NextPage.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 183\n      }\n    }))));\n  }\n\n}","map":{"version":3,"sources":["/Users/jubi/fullStack/pro1/profile/src/page/blog/blog.js"],"names":["React","Component","Auth","FontAwesomeIcon","faSearch","faAngleLeft","faAngleRight","faProductHunt","Blog","constructor","props","state","page","size","articles","totalPage","searchTitle","componentDidMount","apiUrl","link","res","fetch","method","then","json","data","setState","link2","res2","Math","ceil","console","log","PrevPage","forceUpdate","NextPage","searchArticle","e","target","value","handleAuth","authShow","returnSearchResult","charCode","render","img","fontSize","color","bind","length","map","item","index","post_date","split","Date","toDateString","history","push","_id","category","title","cursor"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Auth from './auth'\n//import { Link, withRouter } from \"react-router-dom\";\nimport './blog.scss';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSearch,faAngleLeft,faAngleRight } from '@fortawesome/fontawesome-free-solid'\nimport { faProductHunt } from '@fortawesome/fontawesome-free-brands'\nexport default class Blog extends Component{\n    constructor(props){\n        super();\n        this.state={\n            page:1,\n            size:4,\n            articles:[],\n            // currentPage:1,\n            totalPage:1,\n            searchTitle:'',\n            // authShow:false\n        }\n    }\n    async componentDidMount(){\n        const apiUrl='https://profile-article-api.herokuapp.com';\n        const link = `${apiUrl}/article/${this.state.page}/${this.state.size}`;\n        // console.log(link)\n        const res = fetch(link,{ \n            method:'get',\n        })\n        res.then(res=>res.json()).then(data=>{\n            this.setState({articles:data})\n        });\n        const link2 = `${apiUrl}/article`;\n        const res2 = fetch(link2,{method:'get'})\n        res2.then(res2=>res2.json()).then(data=>{    \n            this.setState({totalPage:Math.ceil(data/this.state.size)})\n            console.log(this.state.totalPage)\n        })\n        \n        \n    }\n    PrevPage(){\n        if(this.state.page === 1) return;\n        this.state.page--;\n        const apiUrl='https://profile-article-api.herokuapp.com';\n        const link = `${apiUrl}/article/${this.state.page}/${this.state.size}`;\n        // console.log(link)\n        const res = fetch(link,{ \n            method:'get',\n        })\n        res.then(res=>res.json()).then(data=>{\n            this.setState({articles:data})\n        });\n        this.forceUpdate();\n        // console.log(this.state.currentPage)\n    }\n    NextPage(){\n        if(this.state.page === this.state.totalPage) return;\n        this.state.page++;\n        const apiUrl='https://profile-article-api.herokuapp.com';\n        const link = `${apiUrl}/article/${this.state.page}/${this.state.size}`;\n        // console.log(link)\n        const res = fetch(link,{ \n            method:'get',\n        })\n        res.then(res=>res.json()).then(data=>{\n            this.setState({articles:data})\n        });\n        this.forceUpdate();\n        // console.log(this.state.currentPage)\n    }\n    searchArticle(e){\n        this.setState({searchTitle:e.target.value})\n        console.log(this.state.searchTitle)     \n    }\n    handleAuth(){\n        this.setState({authShow:true})\n    }\n    returnSearchResult(e){\n        if(e.charCode===13){\n            const apiUrl='https://profile-article-api.herokuapp.com';\n            if(this.state.searchTitle != ''){\n                \n                const link = `${apiUrl}/search/article/${this.state.searchTitle}`;\n                const res = fetch(link,{ \n                    method:'get',\n                })\n                res.then(res=>res.json()).then(data=>{\n                    this.setState({articles:data})\n                });\n                this.forceUpdate();\n            }else{\n                const link = `${apiUrl}/article/${this.state.page}/${this.state.size}`;\n        // console.log(link)\n                const res = fetch(link,{ \n                    method:'get',\n                })\n                res.then(res=>res.json()).then(data=>{\n                    this.setState({articles:data})\n                });\n            }\n            \n        }\n    }\n    render(){\n        // console.log(this.state.articles)\n        const img=[\"https://www.edwardhopper.net/images/paintings/rooms-by-the-sea.jpg\",'https://www.edwardhopper.net/images/paintings/nighthawks.jpg','https://pic.allhistory.com/T1plhyBXdT1RCvBVdK.jpg?w=2048&h=1080','https://pic.allhistory.com/T1G6YvBXVT1RCvBVdK.jpg?w=2048&h=708']\n        return(\n            <>\n            {/* {this.state.authShow?<Auth {...this.props}/>:\"\"} */}\n            <div className=\"pf__blog\">\n            <section className=\"pf__blog--fp\" >\n                <h1>` Blog <FontAwesomeIcon style={{fontSize:'40px',color:'#02C9B1'}} icon={faProductHunt} onClick={this.handleAuth.bind(this)}/></h1>\n                <div className=\"pf__blog--fp-search\">\n                    <input onChange={ this.searchArticle.bind(this)} onKeyPress={this.returnSearchResult.bind(this)}></input>\n                    <FontAwesomeIcon icon={faSearch} />\n                </div>\n            </section>\n            <section className=\"pf__blog--sp\" >\n                {this.state.articles.length>0?this.state.articles.map((item,index)=>\n                    \n                    (<div className=\"pf__blog--sp--article\" key={index}>\n                        <div className=\"pf__blog--sp--article-bg\"> \n                            <div className=\"pf__blog--sp--article-bg-date\"><h3>{item.post_date.split(' ')[0].split('-')[2]}</h3><span>{(new Date(item.post_date)).toDateString().split(' ')[1]}</span></div>\n                            <a onClick={()=>{\n                                this.props.history.push(`/article/${item._id}`);\n                            }}>\n                                <img src={`${img[index]}`}></img> \n                                <div className=\"mask\">📄</div>\n                            </a>\n\n                        </div>\n                        <div className=\"pf__blog--sp--article-info\">\n                            <p>{item.category}</p>\n                            <h4>{item.title}</h4>\n                        </div>\n                    </div>)\n                ):''}\n          \n                {/* <div className=\"pf__blog--sp--article\">\n                    <div className=\"pf__blog--sp--article-bg\"> \n                        <div className=\"pf__blog--sp--article-bg-date\"><h3>6 <span>Dec</span></h3></div>\n                        <a onClick={()=>{\n                            this.props.history.push('/article/'+'1');\n                        }}>\n                            <img src=\"https://www.edwardhopper.net/images/paintings/rooms-by-the-sea.jpg\"></img> \n                            <div className=\"mask\">📄</div>\n                        </a>\n\n                    </div>\n                    <div className=\"pf__blog--sp--article-info\">\n                        <p>categroy</p>\n                        <h4>Bootstrap is the Most Popular Framework</h4>\n                    </div>\n                </div> */}\n\n               \n            </section>\n            <section className=\"pf__blog--tp\">\n            <FontAwesomeIcon icon={faAngleLeft} style={{cursor:'default'}} onClick={this.PrevPage.bind(this)} /><div className=\"pf__blog--tp-page\"><p>Page{this.state.page}</p></div> <FontAwesomeIcon icon={faAngleRight} onClick={this.NextPage.bind(this)}/>\n            </section>\n        </div></>)\n    }\n}"]},"metadata":{},"sourceType":"module"}